<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡πâ‡∏≤‡∏ô</title>
  <link rel="icon" href="favicon.ico" />
  
  <link rel="stylesheet" href="style.css">

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
 
<script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>


  <script>
    (function(){
      function loadScript(u){return new Promise((res,rej)=>{const s=document.createElement('script');s.src=u;s.defer=true;s.onload=()=>res();s.onerror=rej;document.head.appendChild(s);});}
      async function ensureSupabase(){ if (window.supabase) return true;
        const urls=['./lib/supabase.min.js','/lib/supabase.min.js','supabase.min.js'];
        for (const u of urls){ try{ await loadScript(u); if (window.supabase) return true; }catch(_){ } }
        return !!window.supabase;
      }
      window.addEventListener('DOMContentLoaded', async ()=>{
        const btn=document.getElementById('loginBtn');
        if (btn) { btn.disabled=true; btn.textContent='‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö...'; }
        const ok=await ensureSupabase();
        if (btn) { btn.disabled=!ok; btn.textContent= ok? '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö':'‡πÑ‡∏°‡πà‡∏û‡∏ö Supabase'; }
      });
    })();
  </script>
</head>
<body>
  <div class="container">
    <header class="header">
    </header>



    <main id="mainContent" style="display:none">
      <div class="main-columns">
	  
        <div id="left-column">
          <section class="card">
            <h2 class="card-header active" id="data-card-header">üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏Å‡∏π‡πâ</h2>
            <div class="card-content">
              <div class="input-group inline-group"><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô</label><input id="housePrice" type="text" inputmode="numeric" value="1,890,000" oninput="formatNumberInput(this)">‡∏ö‡∏≤‡∏ó</div>
              <div class="input-group inline-group"><label>‡∏≠‡∏≤‡∏¢‡∏∏‡∏ú‡∏π‡πâ‡∏Å‡∏π‡πâ</label><input id="borrowerAge" type="number" value="30">‡∏õ‡∏µ</div>
              <div class="input-group inline-group"><label>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label><input id="borrowerSalary" type="text" inputmode="numeric" value="15,000" oninput="formatNumberInput(this)">‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
              <div class="input-group inline-group"><label>‡πÇ‡∏ö‡∏ô‡∏±‡∏™</label><input id="borrowerBonus" type="text" inputmode="numeric" value="0" oninput="formatNumberInput(this)">‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ</div>
			
			<div class="input-group inline-group">
                <label>OT / ‡∏Ñ‡πà‡∏≤‡∏•‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</label>
                <div class="multi-input-line">
                  <input id="borrowerOT" type="text" inputmode="numeric" value="0" oninput="formatNumberInput(this)">
                  <span>‡∏ö‡∏≤‡∏ó/</span>
                  <input id="borrowerOTMonths" type="number" value="1">
                  <span>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                </div>
              </div>
			  
              <div class="input-group inline-group">
                <label>‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏°‡∏°‡∏¥‡∏ä‡∏ä‡∏±‡πà‡∏ô</label>
                <div class="multi-input-line">
                  <input id="borrowerCommission" type="text" inputmode="numeric" value="0" oninput="formatNumberInput(this)">
                  <span>‡∏ö‡∏≤‡∏ó/</span>
                  <input id="borrowerCommissionMonths" type="number" value="1">
                  <span>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                </div>
              </div>
			  
              <div class="input-group inline-group">
                <label>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
                <div class="multi-input-line">
                  <input id="borrowerOtherIncome" type="text" inputmode="numeric" value="0" oninput="formatNumberInput(this)">
                  <span>‡∏ö‡∏≤‡∏ó/</span>
                  <input id="borrowerOtherIncomeMonths" type="number" value="1">
                  <span>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                </div>
              </div>
			  
              <div class="input-group inline-group"><label>‡∏´‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏ö‡∏π‡πÇ‡∏£</label><input id="borrowerDebt" type="text" inputmode="numeric" value="0" oninput="formatNumberInput(this)">‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
              <button class="btn" style="width:100%" onclick="calculateLoan()">üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠</button>
            </div>
          </section>
        </div>
        <div id="right-column">
		<section class="card" id="actionButtonsCard">
            <h2 class="card-header active" style="cursor: default;">üöÄ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
            <div class="card-content action-buttons-grid">
              <button class="btn" onclick="showResultPanel('analysis')">üèÜ ‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)</button>
              <button class="btn btn-secondary" onclick="showResultPanel('comparison')">üè¶ ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ó‡∏∏‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</button>
              <button class="btn btn-secondary" onclick="showResultPanel('amortization')">üìã ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞</button>

              <div class="system-buttons-container">
                <button class="btn admin-btn" onclick="openBankAdminModal()">üè¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</button>
                <button class="btn admin-btn" onclick="openPromoAdminModal()">üõ†Ô∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</button>
                <button class="btn btn-secondary" onclick="refreshPromos()">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÇ‡∏õ‡∏£</button>
                <button class="btn btn-danger" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
              </div>
            </div>
		</section>

          <section class="card" id="analysisResultCard" style="display: none;">
            <div class="card-header-flex">
              <h2 class="card-header-title">üèÜ ‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)</h2>
              <button class="btn btn-danger btn-admin" onclick="showActionButtons()"> &lt; ‡∏Å‡∏•‡∏±‡∏ö </button>
            </div>
            <div class="card-content">
                <div class="results-grid" style="margin-bottom: 15px;">
                    <div class="result-item"><div>‡∏¢‡∏≠‡∏î‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°</div><div id="loanAmount" class="value">-</div></div>
                    <div class="result-item"><div>‡∏ú‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div><div id="monthlyPayment" class="value">-</div></div>
                </div>
                <div id="bestOfferDetails" style="background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:10px">
                    <p><strong>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:</strong> <span id="bestBank"></span></p>
                    <p><strong>‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô:</strong> <span id="bestPromo"></span></p>
                    <p><strong>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏π‡πâ:</strong> <span id="bestTerm"></span> ‡∏õ‡∏µ</p>
                    <p><strong>DSR:</strong> <span id="bestDSR"></span>%</p>
                </div>
            </div>
          </section>
		  
 
          
          <section class="card" id="comparisonResultCard" style="display: none;">
            <div class="card-header-flex">
              <h2 class="card-header-title">üè¶ ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ó‡∏∏‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</h2>
              <button class="btn btn-danger btn-admin" onclick="showActionButtons()"> &lt; ‡∏Å‡∏•‡∏±‡∏ö </button>
            </div>
            <div class="card-content">
                <div id="bankComparison" class="bank-comparison"></div>
                <div id="rateUpdateTime" style="text-align:center;color:#666;margin-top:6px;font-size:12px;"></div>
            </div>
          </section>

          <section class="card" id="amortizationResultCard" style="display: none;">
            <div class="card-header-flex">
              <h2 class="card-header-title">üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞ (12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å)</h2>
              <button class="btn btn-danger btn-admin" onclick="showActionButtons()"> &lt; ‡∏Å‡∏•‡∏±‡∏ö </button>
            </div>
            <div class="card-content" style="overflow-x:auto">
                <table class="amortization">
                    <thead><tr><th>‡∏á‡∏ß‡∏î</th><th>‡∏¢‡∏≠‡∏î‡∏ú‡πà‡∏≠‡∏ô</th><th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô</th><th>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢</th><th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th></tr></thead>
                    <tbody id="amortizationTable"></tbody>
                </table>
            </div>
          </section>

 <section class="card" id="bankAdmin" style="display:none">
            <h2 class="card-header active">üè¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏•‡∏∞ MRR</h2>
            <div class="card-content">
              <div style="margin-bottom: 15px;">
                <h3 style="font-size: 14px; margin-bottom: 8px;">‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</h3>
                <input type="hidden" id="bankIdInput">
                <div class="input-group">
                  <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</label>
                  <input id="bankNameMasterInput" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢">
                </div>
                <div class="input-group">
                  <label>MRR ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (%)</label>
                  <input id="bankMrrMasterInput" type="number" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 6.75">
                </div>
                <div style="display: flex; gap: 8px;">
                  <button class="btn" onclick="saveBank()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                  <button class="btn btn-secondary" onclick="clearBankForm()">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
                </div>
              </div>
              
              <div>
                <h3 style="font-size: 14px; margin-bottom: 8px;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
                <div id="bankMasterList" style="border: 1px solid #e9ecef; border-radius: 8px; min-height: 100px; max-height: 300px; overflow-y: auto;">
                  <p style="text-align:center;color:#666;font-size:12px;padding:20px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                </div>
              </div>
            </div>
          </section>
          
          <section class="card" id="promoAdmin" style="display:none">
            <h2 class="card-header active">üõ†Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</h2>
            <div class="card-content">
              <div style="margin-bottom: 15px;">
                <h3 style="font-size: 14px; margin-bottom: 8px;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</h3>
                <input type="hidden" id="promoIdInput">
                
                <div class="input-group">
                  <label>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</label>
                  <select id="promoBankName" onchange="handleBankSelectionChange()">
                    <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ ‚Äî</option>
                  </select>
                </div>
                
                <div class="input-group">
                  <label>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</label>
                  <input id="promoName" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏õ‡∏£‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡πâ‡∏≤‡∏ô‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                  <div class="input-group">
                    <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£</label>
                    <input id="promoStartDate" type="date">
                  </div>
                  <div class="input-group">
                    <label>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÇ‡∏õ‡∏£</label>
                    <input id="promoEndDate" type="date">
                  </div>
                </div>
                
                <div class="input-group">
                  <label>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤</label>
                  <input id="contractEndDate" type="date">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                  <div class="input-group">
                    <label>‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡∏ö‡∏≤‡∏ó)</label>
                    <input id="maxLoanAmountThb" type="text" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10,000,000" oninput="formatNumberInput(this)">
                  </div>
                  <div class="input-group">
                    <label>LTV ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (%)</label>
                    <input id="promoMaxLTV" type="number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 90" value="100">
                  </div>
				  
					<div class="input-group">
					  <label>DSR ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (%)</label>
					  <input id="promoDsrCeiling" type="number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 55" value="55">
					</div>				  
				  
                  <div class="input-group">
                    <label>‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡∏õ‡∏µ)</label>
                    <input id="promoMaxLoanAge" type="number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 65" value="65">
                  </div>
				  
                </div>
              </div>
          
<div style="margin-bottom: 15px;">
  <h3 style="font-size: 14px; margin-bottom: 8px;">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (%)</h3>
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
    <div class="input-group">
      <label>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
      <input id="incomeSalaryPercent" type="number" value="100">
    </div>
    <div class="input-group">
      <label>‡πÇ‡∏ö‡∏ô‡∏±‡∏™</label>
      <input id="incomeBonusPercent" type="number" value="50">
    </div>
    <div class="input-group">
      <label>OT / ‡∏Ñ‡πà‡∏≤‡∏•‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</label>
      <input id="incomeOtPercent" type="number" value="50">
    </div>
    <div class="input-group">
      <label>‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏°‡∏°‡∏¥‡∏ä‡∏ä‡∏±‡πà‡∏ô</label>
      <input id="incomeCommissionPercent" type="number" value="50">
    </div>
    <div class="input-group">
      <label>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
      <input id="incomeOtherPercent" type="number" value="50">
    </div>
  </div>
</div>
		  
              <div style="margin-bottom: 15px;">
                <h3 style="font-size: 14px; margin-bottom: 8px;">‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢</h3>
                
                <div style="background: #f8f9fa; padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                  <h4 style="font-size: 13px; margin-bottom: 8px;">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (‡∏õ‡∏µ‡πÅ‡∏£‡∏Å ‡πÜ)</h4>
                  <div id="fixedRatesContainer" style="display: flex; flex-direction: column; gap: 8px;"></div>
                  <button type="button" class="btn btn-secondary" style="margin-top: 8px;" onclick="addFixedRateYear()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏µ</button>
                </div>
                
                <div style="background: #f8f9fa; padding: 10px; border-radius: 8px;">
                  <h4 style="font-size: 13px; margin-bottom: 8px;">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏•‡∏≠‡∏¢‡∏ï‡∏±‡∏ß (‡∏õ‡∏µ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)</h4>
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <div class="input-group">
                      <label>MRR ‡∏Ç‡∏≠‡∏á‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ (%)</label>
                      <input id="promoMrrDisplay" type="number" step="0.01" readonly style="background: #e9ecef;">
                    </div>
                    <div class="input-group">
                      <label>‡∏´‡∏±‡∏Å (%)</label>
                      <input id="promoMrrSubtractInput" type="number" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1.50">
                    </div>
                  </div>
                </div>
              </div>
              
              <div style="display: flex; gap: 8px;">
                <button class="btn" onclick="savePromotion()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô</button>
                <button class="btn btn-secondary" onclick="clearPromoForm()">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
              </div>
              
              <div style="margin-top: 20px;">
                <h3 style="font-size: 14px; margin-bottom: 8px;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
                <div id="myPromoList" style="border: 1px solid #e9ecef; border-radius: 8px; min-height: 100px; max-height: 400px; overflow-y: auto;">
                  <p style="text-align:center;color:#666;font-size:12px;padding:20px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                </div>
              </div>
            </div>
          </section>
 
<section class="card blur" id="auth-card">
              <div id="loginArea">
                <form id="loginForm" class="login-grid" onsubmit="event.preventDefault(); login();" autocomplete="on">
                  <div class="input-group">
                    <label style="color:#fff">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input id="email" name="email" type="email" placeholder="admin@yourbank.com" required autocomplete="username email" autocapitalize="none" spellcheck="false" inputmode="email">
                  </div>
                  <div class="input-group">
                    <label style="color:#fff">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input id="password" name="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required autocomplete="current-password">
                  </div>
                  <button class="btn" id="loginBtn" type="submit" disabled>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                </form>
                <div id="libStatus" style="margin-top:8px;background:#fff3cd;color:#8a6d3b;border:1px solid #ffeaa7;padding:8px 10px;border-radius:8px;font-size:12px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ Supabase...</div>
                <div id="loginError" style="display:none;margin-top:8px;background:#ff6b6b99;padding:8px 10px;border-radius:8px;font-size:12px;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</div>
                <div style="margin-top:6px;font-size:11px;opacity:.9">* ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‚Äî ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ô Supabase ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</div>
              </div>
          </section>		  
		  
        </div>
      </div>
    </main>

    <div id="toastContainer"></div>
    <div id="globalSpinner"><div class="spinner"></div><div class="spinner-label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô...</div></div>
    <div id="modalHost"></div>
    <div id="compareBar"></div>
  </div>

  <script defer src="script.js"></script>
</body>
</html>